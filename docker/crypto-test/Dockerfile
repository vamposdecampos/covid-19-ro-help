# not "-alpine", because "cryptography" has no wheel for it, it tries to
# compile, wants rust, and fails.
FROM python:3.7.4

WORKDIR /build
ADD requirements*.txt ./
RUN pip install --upgrade pip \
	&& pip install -r requirements-dev.txt

ADD docker/crypto-test/gen_testdata.sh .
RUN ./gen_testdata.sh

ADD ro_help/mobilpay mobilpay/
RUN python3 -m mobilpay.mobilpay.test -v
